name: "Finding CodeQL"

on:
  push:
  workflow_dispatch:
  pull_request:

permissions: {}

jobs:
  find-codeql:
    runs-on: ubuntu-latest
    steps:
      - run: |
          # ls -l $RUNNER_TOOL_CACHE
          loc="$(find $RUNNER_TOOL_CACHE -name 'CodeQL')"
          if [ -z "$loc" ]; then
            echo "CodeQL not found"
            ls -R $RUNNER_TOOL_CACHE
            exit 1
          fi

          echo "CodeQL found at: $loc"

          echo "-------------------------------"
          ls -l "$loc"/*
          echo "-------------------------------"
          ls -l "$loc"/*/*
          echo "-------------------------------"
          ls -l "$loc"/*/*/*
